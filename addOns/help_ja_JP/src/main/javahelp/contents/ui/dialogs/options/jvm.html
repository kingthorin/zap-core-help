<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>
オプション - JVM画面
</title>
</head>
<body>
<h1>オプション - JVM画面</h1>
<p>
この画面では、ZAP起動時に使用されるJVMオプションを設定できます。
</p>

<h3>JVM オプション</h3>
自由形式のテキストフィールドで、zap.sh または zap.bat を介してZAPを起動する際にJavaコマンドラインに追加されます。
</p>
<p>
このオプションは、Javaの最大メモリ割り当てプールサイズを設定するために追加されました。形式: -Xmx<i>n</i> ( <i>n</i> はバイト単位のサイズ) です。<br>
このフィールドの適切な値の例：
<ul>
<li>-Xmx256m</li>
<li>-Xmx512m</li>
<li>-Xmx1024m</li>
</ul>
<p>
他のZAPオプションとは異なり、これらの設定はユーザーのZAPデフォルトディレクトリ内の <code>.ZAP_JVM.properties</code> ファイルに保存されます。ディレクトリの場所はOSによって異なります：
<ul>
<li>Windows 7/8: C:\Users\<i>&lt;username&gt;</i>\ZAP</li>
<li>Windows XP: C:\Documents and Settings\<i>&lt;username&gt;</i>\ZAP</li>
<li>Linux: ~/.ZAP</li>
<li>Mac OS: ~/Library/Application Support/ZAP</li>
</ul>
これらのオプション設定を間違えると、ZAPの起動に失敗する場合があります。<br>
その場合は、このファイルを削除することで問題が解決するはずです。
<p>
<strong>Windows注意事項:</strong> 実行ファイル (.exe) 経由でZAPを起動する場合、これらのオプションは適用されません。 <code>.ZAP_JVM.properties</code> ファイルの保存場所は環境変数 <code>%USERPROFILE%の値に依存します</code>.

<h3>JVMメモリ詳細</h3>
ダイアログの下部には、現在のJVMメモリ構成の詳細が表示されます。内容： 
  <ul>
    <li>Size - 現在JVMに割り当てられているメモリ量</li> 
    <li>Used - 割り当て済みメモリのうち使用中の容量</li>
    <li>Max - JVMが使用可能な最大メモリ量</li>
  </ul>
値は、2進数計算による読みやすい単位 (IEC規格) で表示されます (例: 1024バイト = 1KiB)。
<p>
通常、Max は (指定されている場合) -Xmx に近い値になります。ただし、Windows OS上のJava 8でのテスト中に以下の動作が観察されました。
<p>
-Xmx512m が指定された場合 (約488MiBになるはず)、455.5MiBが表示されました。<br>
-Xms512m -Xmx512m が指定された場合、475MiBが表示されました。<br>
-XX:+AlwaysPreTouch -Xms512m -Xmx512m の場合、474.5MiBが表示されました。
<p>
このため、JVMは実行時に何らかの計算/操作を行い、ユーザーが入力したオプションと結果が期待通りに一致しない場合があるようです (これはJVMの問題であり、ZAPの問題ではありません)。

<h2>関連情報</h2>
<table>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="../../overview.html">UIの概要</a></td><td>ユーザーインターフェースの概要について</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="options.html">オプションダイアログ</a></td><td>その他のオプションダイアログ画面の詳細</td></tr>
</table>

<h2>外部リンク</h2>
<table>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html#BABDJJFI">Java 8オプション</a></td></tr>
</table>

</body>
</html>
