<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>
オプションAPI画面
</title>
</head>
<body>
<h1>オプションAPI画面</h1>
<p>
この画面では、<a href="../../../start/features/api.html">API</a>のオプションを設定できます：

<h3>有効化</h3>

有効にすると、ZAPのプロキシにアクセス可能なすべてのマシンからAPIが利用できるようになります。<br/>

<h3>Web UI 有効化</h3>

有効にすると、ZAPのプロキシにアクセス可能なすべてのマシンからAPIのWeb UIが利用できるようになります。 
API Web UIにアクセスするには、ブラウザでZAPが待機しているホストとポートを指定してください。<br/>

<h3>HTTPSのみ</h3>

このオプションが有効になっている場合、APIはHTTPS経由でのみ利用可能になります。 それ以外の場合、APIはHTTPとHTTPSの両方で利用できます。<br/>

<h3><a name="filexferenabled">ファイル転送を有効にする</a></h3>

このオプションを有効にすると、API経由でZAPとの間でファイルを転送できるようになります。
このオプションは、APIキーが無効に<i>なっていない</i>場合のみ利用可能です。
詳細は<a href="../../../start/features/api.html#filexfer">ファイル転送</a>を参照してください.
<p>
また、コマンドラインで <code>-config api.filexfer=true</code> というパラメーターを使用して、このオプションを有効にすることもできます。

<h3><a name="xferdir">転送ディレクトリ</a></h3>

API経由でZAPとの間でファイルを転送するために使用されるディレクトリです。
このオプションは、APIキーが無効に<i>なっていない</i>場合のみ利用可能です。
詳細は<a href="../../../start/features/api.html#filexfer">ファイル転送</a>を参照してください.
<p>
コマンドラインを使って転送ディレクトリを設定することもできます： <code>-config api.xferdir=/full/path/to/dir</code>

<h3>APIキー</h3>

APIの「アクション」および一部の「その他」操作では、キーの指定が必須です。<br/>
APIキーは、悪意のあるサイトがZAPのAPIにアクセスするのを防ぐために使用されます。<br/>
完全に隔離された環境でZAPを使用している場合を除き、キーを設定することを強く推奨します。<br/>

<h3>APIの使用を許可されたアドレス</h3>

デフォルトでは、ZAPが実行されているマシンのみがZAPのAPIにアクセスできます。<br/>
適切な正規表現パターンを追加することで、他のマシンからのAPIアクセスを許可することができます。<br/>
信頼できるIPアドレスのみを追加してください。<br/>
なお、ZAPのAPIはホストヘッダーもチェックするため、ホストヘッダーも許可されたアドレスのいずれかである必要があります。

<h3>APIキーを無効にする</h3>

このオプションを選択すると、APIキーが無効になります。<br/>
完全に隔離された環境でZAPを使用している場合を除き、悪意のあるサイトがZAPのAPIにアクセスできてしまうため、これは推奨されません。

<h3>安全な操作にAPIキーを要求しない</h3>

有効にすると、「安全」と見なされるビューやその他の操作では、APIキーは必要ありません。 
つまり、ZAPに一切変更を加えない操作です。ただし、これらの操作では、アラート、メッセージ、ファイルシステムパスなどのZAPデータへのアクセスが可能です。  
また、これらの操作は、WebアプリケーションがZAPの存在を検知するために使用されることもあります。

<h3>API経由でパーミッションエラーを報告する</h3>

有効にすると、ZAPはAPI経由でパーミッションエラーを報告します。これは、WebアプリケーションがZAPの存在を検知するために使用される可能性があります。
安全な環境では重大な問題ではありませんが、悪意のある可能性のあるサイトに対してZAPを使用している場合は、このオプションを有効にすべきではありません。

<h3>API経由でエラー詳細を報告する</h3>

このオプションを選択すると、API経由でより詳細なエラーが返されます。<br/>
これらのエラーメッセージは、悪意のあるサイトに情報が漏れる可能性があるため、デバッグ目的以外では推奨されません。<br/>
なお、完全なエラー詳細は常にZAPのログファイルに書き込まれます。 

<h3>API UIでAPIキーを自動入力する</h3>

このオプションを選択すると、API UIにAPIキーが自動的に含まれます。<br/>
悪意のあるサイトがZAPのAPIキーにアクセスできてしまうため、完全に隔離された環境でZAPを使用している場合を除き、これは推奨されません。<br/>

<h3>JSONPを有効にする</h3>

このオプションを選択すると、JSONPフォーマットが有効になります。<br/>
これは一部のアプリケーションで役立つ場合がありますが、ZAPの攻撃対象領域、つまり悪意のあるサイトが悪用できる機能を増やすことになるため、一般的には推奨されません。<br/>
JSONPが有効になっている場合、JSONPを使用するすべてのAPI操作（ビューを含む）は、悪意のあるサイトがセッションキーなどZAPが保持する機密情報にアクセスするのを防ぐために、APIキーを必要とします。
 

<h2>参照</h2>
<table>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
<a href="../../overview.html">UIの概要</a></td><td>ユーザーインターフェースの概要について</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
<a href="options.html">オプションダイアログ</a></td><td>その他のオプションダイアログの画面についての詳細</td></tr>
</table>

</body>
</html>
